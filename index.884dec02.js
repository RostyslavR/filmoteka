function e(e){return e&&e.__esModule?e.default:e}var t={gallery:document.querySelector(".main-gallery"),pagination:document.querySelector(".pagination")},a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e};const n=new class{async getMovies(e=1){this.qOptions.set("page",e);const t=`${this.BASE_URL}${this.ENDPOINT}?${this.qOptions}`;return(await fetch(t)).json()}constructor(){e(a)(this,"BASE_URL","https://api.themoviedb.org/3"),e(a)(this,"KEY_API","dc4940972c268b026150cf7be6f01d11"),e(a)(this,"ENDPOINT","/trending/movie/day"),e(a)(this,"qOptions",new URLSearchParams({api_key:this.KEY_API}))}},i=new class{render(e){console.log(e);let t=e.reduce(((e,t)=>(t.backdrop_path&&(e+=function(e){const t=`https://image.tmdb.org/t/p/original${e.poster_path}`,a=e.title,n=e.genre_ids.map((e=>e)).join(","),i=e.release_date,s=e.vote_average;return`\n    <li class="gallery-item">\n    <img class="item-img" src="${t}" alt="${a}" loading="lazy"/>\n    <p class="item-title">${a}</p>\n    <div class="item-data">\n    <p class="item-genre">${n}</p>\n    <p class="item-data">${i}</p>\n    <p class="item-rating">${s}</p>\n    </div>\n    </li>\n    `}(t)),e)),"");t=`\n    <ul class="gallery-list">\n    ${t}\n    </ul>\n    `,this.ref.innerHTML=t}constructor(e){this.ref=e}}(t.gallery),s=new class{on(e,t){this.currentPage=Number(e),this.totalPages=Number(t),this.makeMarkUp(),this.ref.addEventListener("click",this.handlePagination)}makeMarkUp(){let e=0,t=0;this.totalPages>7&&(e=this.currentPage-2>1?this.currentPage-2:this.currentPage-1,t=this.currentPage+2<this.totalPages?this.currentPage+2:this.currentPage+1);let a="";for(let n=1;n<=this.totalPages;n+=1)(1===n||n>=e&&n<=t||n===this.totalPages)&&(n!==this.currentPage?a+=`<li class="pagination-page" ><a href="#" data-num="${n}">${n}</a></li>`:a+=`<li class="pagination-page current-page" ><a href="#" data-num="${n}">${n}</a></li>`);a=`\n  <ul class="pagination-list">\n  <a href="#" class="pagination-page" data-num="prev"><<</a>\n  ${a}\n  <a href="#" class="pagination-page" data-num="next">>></a>\n  </ul>\n  `,this.ref.innerHTML=a}constructor(t,n){e(a)(this,"handlePagination",(e=>{if("A"===e.target.nodeName){switch(this.ref.removeEventListener("click",this.handlePagination),e.target.dataset.num){case"prev":this.currentPage>1?this.currentPage-=1:this.currentPage;break;case"next":this.currentPage<this.totalPages?this.currentPage+=1:this.currentPage;break;default:this.currentPage=Number(e.target.dataset.num)}this.onPage(this.currentPage)}})),this.ref=t,this.onPage=n,this.currentPage=0,this.totalPages=0}}(t.pagination,(function(e){!async function(e=1){const t=await n.getMovies(e);i.render(t.results),s.on(t.page,t.total_pages)}(e)}));t.gallery.innerHTML="<h1>HELLO!</h1>";
//# sourceMappingURL=index.884dec02.js.map
